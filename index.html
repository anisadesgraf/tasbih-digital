<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Tasbih Digital</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='50' fill='%23f48fb1'/></svg>">
<style>
body{
  margin:0;
  overflow:hidden;
  font-family:'Poppins',sans-serif;
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  background:linear-gradient(to top,#015871,#48c6ef);
  color:#fff;
  position:relative;
  transition:background 0.5s;
}
h1{font-size:2.2rem;margin-bottom:20px;text-shadow:1px 1px 5px rgba(0,0,0,0.5);z-index:2;}
#count{font-size:3rem;margin:20px 0;padding:12px 30px;background: rgba(255,255,255,0.2);border-radius:20px;box-shadow:0 4px 10px rgba(0,0,0,0.3);z-index:2;}
.buttons{margin:15px 0;z-index:2;}
button, select{padding:10px 22px;margin:6px;font-size:1rem;border:none;border-radius:50px;cursor:pointer;box-shadow:0 4px 8px rgba(0,0,0,0.3);transition:0.2s ease;}
#increment{background:#f48fb1;color:white;}
#increment:hover{background:#c2185b;}
#reset{background:#4db6ac;color:white;}
#reset:hover{background:#00695c;}
#share{background:#ffb74d;color:#000;}
#share:hover{background:#f57c00;}
.tasbih{position:relative;width:280px;height:280px;margin-top:20px;z-index:2;}
.bead{width:26px;height:26px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#fff,#f48fb1);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);box-shadow: inset -2px -2px 5px rgba(255,255,255,0.6), inset 2px 2px 5px rgba(0,0,0,0.1);transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.1s ease;}
.bead.active{transform:translate(-50%,-50%) scale(1.25);background:radial-gradient(circle at 30% 30%,#fff,#4db6ac);box-shadow:0 0 12px #4db6ac;}
.bubble{position:absolute;bottom:-50px;width:12px;height:12px;border-radius:50%;background:rgba(255,255,255,0.5);animation:rise linear infinite;}
@keyframes rise{0%{transform:translateY(0) scale(1);opacity:0.6;}100%{transform:translateY(-110vh) scale(0.5);opacity:0;}}
#notif{position:fixed;top:20px;background:#ffeb3b;color:#000;padding:10px 22px;border-radius:25px;box-shadow:0 4px 10px rgba(0,0,0,0.3);display:none;z-index:5;font-weight:bold;}
.colorPickers{display:flex;gap:8px;margin-top:10px;z-index:2;}
@media(max-width:600px){
  .tasbih{width:200px;height:200px;}
  #count{font-size:2.2rem;padding:8px 20px;}
  button, select{font-size:0.9rem;padding:6px 15px;}
}
</style>
</head>
<body>
<h1>ðŸŒŠ Tasbih Digital</h1>
<div id="count">0</div>
<div class="buttons">
  <button id="increment">+1</button>
  <button id="reset">Reset</button>
  <select id="targetSelect">
    <option value="33">Target 33</option>
    <option value="99">Target 99</option>
    <option value="100">Target 100</option>
    <option value="1000">Target 1000</option>
  </select>
  <button id="share">Share Link</button>
</div>
<div class="colorPickers">
  <input type="color" id="pearlColor" value="#f48fb1" title="Pearl Color">
  <input type="color" id="bgColor" value="#48c6ef" title="Background Color">
</div>
<div id="notif">Alhamdulillah, target tercapai ðŸŒ¸</div>
<div class="tasbih" id="tasbih"></div>
<script>
const totalBeads=33;
let count=parseInt(localStorage.getItem('tasbihCount'))||0;
let currentIndex=count%totalBeads;
let target=parseInt(document.getElementById('targetSelect').value);
const countDisplay=document.getElementById('count');
const incrementBtn=document.getElementById('increment');
const resetBtn=document.getElementById('reset');
const shareBtn=document.getElementById('share');
const tasbihContainer=document.getElementById('tasbih');
const notif=document.getElementById('notif');
const targetSelect=document.getElementById('targetSelect');
const pearlColorInput=document.getElementById('pearlColor');
const bgColorInput=document.getElementById('bgColor');
const body=document.body;
countDisplay.textContent=count;
// Beads melingkar
const beads=[];
const radius=100;
for(let i=0;i<totalBeads;i++){
  const bead=document.createElement('div');
  bead.classList.add('bead');
  const angle=(i/totalBeads)*Math.PI*2;
  const x=Math.cos(angle)*radius;
  const y=Math.sin(angle)*radius;
  bead.style.transform=`translate(${x}px, ${y}px)`;
  tasbihContainer.appendChild(bead);
  beads.push(bead);
}
beads.forEach(b=>b.classList.remove('active'));
beads[currentIndex].classList.add('active');

function showNotification(){ notif.style.display='block'; setTimeout(()=>{notif.style.display='none';},3000);}
function updateCounter(){
  count++;
  localStorage.setItem('tasbihCount',count);
  countDisplay.textContent=count;
  beads.forEach(b=>b.classList.remove('active'));
  beads[currentIndex].classList.add('active');
  beads[currentIndex].style.transform+= ' scale(1.15)';
  setTimeout(()=>{
    const angle=(currentIndex/totalBeads)*Math.PI*2;
    const x=Math.cos(angle)*radius;
    const y=Math.sin(angle)*radius;
    beads[currentIndex].style.transform=`translate(${x}px, ${y}px)`;
  },100);
  currentIndex=(currentIndex+1)%totalBeads;
  if(count%target===0) showNotification();
}
incrementBtn.addEventListener('click',updateCounter);
resetBtn.addEventListener('click',()=>{
  count=0; currentIndex=0;
  localStorage.setItem('tasbihCount',count);
  countDisplay.textContent=count;
  beads.forEach(b=>b.classList.remove('active'));
  beads[currentIndex].classList.add('active');
});
document.addEventListener('keydown',(e)=>{if(e.code==='Space'){e.preventDefault();updateCounter();}});
targetSelect.addEventListener('change',()=>{target=parseInt(targetSelect.value);});
// Bubble animasi ringan
function createBubble(){
  const bubble=document.createElement('div');
  bubble.classList.add('bubble');
  bubble.style.left=Math.random()*100+'vw';
  bubble.style.width=bubble.style.height=(8+Math.random()*12)+'px';
  bubble.style.animationDuration=(5+Math.random()*4)+'s';
  body.appendChild(bubble);
  setTimeout(()=>{bubble.remove();},9000);
}
setInterval(createBubble,1200);
// Share link
shareBtn.addEventListener('click',()=>{
  navigator.clipboard.writeText(window.location.href);
  alert("Link copied! Share ke teman ðŸŒ¸");
});
// Color picker
pearlColorInput.addEventListener('input',()=>{ beads.forEach(b=>b.style.background=`radial-gradient(circle at 30% 30%, #fff, ${pearlColorInput.value})`); });
bgColorInput.addEventListener('input',()=>{ body.style.background=bgColorInput.value; });
</script>
</body>
</html>
